//921E

#include<bits/stdc++.h>

using namespace std;

#define pb push_back
#define mp make_pair
#define F first
#define S second
#define fo(i, n) for(int i = 1; i <= n; ++i)

typedef long long ll;
typedef pair<int, int> pii;
typedef pair<ll, ll> pll;

const int N = 300200;
const int mod = 1e9 + 7;
int n, m, u, v;
set<int> g[N];
bitset<N> cur;
int cnt;
int res[N];
inline void dfs(int v)
{
	cur[v] = 0;
	res[cnt]++;
	for(int to = cur._Find_first(); to <= n; to = cur._Find_next(to))
	{
		if(g[v].find(to) == g[v].end())
			dfs(to);
	}
}

int main()
{
   ios::sync_with_stdio(0); cin.tie(0);
	cin >> n >> m;
	fo(i, m)
	{
		cin >> u >> v;
		g[u].insert(v);
		g[v].insert(u);
	}   
	fo(i, n)
		cur[i] = 1;
	for(int i = 1; i <= n; ++i)
		if(cur[i] == 1)
		{
		   cnt++;
			dfs(i);
		}
	cout << cnt << '\n';
	sort(res + 1, res + cnt + 1);
	fo(i, cnt)
		cout << res[i] << ' ';
	return 0;            
}